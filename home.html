<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Busanso Nation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<script src="movies-data.js"></script>
<script src="series-data.js"></script>

<style>
body{
  margin:0;
  background:#0b0b0b;
  color:#fff;
  font-family:'Poppins',sans-serif;
}

/* HEADER */
.header{
  padding:20px;
  text-align:center;
}
.header img{height:55px}
.header h1{margin:8px 0}
/* TOP BUTTONS */
.top-actions{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:14px;
  margin-bottom:22px;
}

.btn{
  padding:12px 24px;
  border-radius:999px;
  font-weight:700;
  text-decoration:none;
  font-size:14px;
  color:#fff;
  display:flex;
  align-items:center;
  gap:6px;
  box-shadow:0 6px 16px rgba(0,0,0,.4);
  transition:transform .2s ease, box-shadow .2s ease, opacity .2s;
}

.btn:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 24px rgba(0,0,0,.6);
  opacity:.95;
}

/* Individual styles */
.subscribe{
  background:linear-gradient(135deg,#e50914,#ff3b3b);
}

.login{
  background:linear-gradient(135deg,#2563eb,#1e40af);
  border:1px solid rgba(255,255,255,.15);
}

.live{
  background:linear-gradient(135deg,#16a34a,#22c55e);
}

.about{
  background:#111;
  border:1px solid #333;
  color:#ddd;
}


/* ===== MOVING POSTER CAROUSEL ===== */
.carousel-wrap{
  overflow:hidden;
  padding:10px 0 25px;
}
.carousel-track{
  display:flex;
  gap:16px;
  width:max-content;
  animation:scroll 40s linear infinite;
}
.carousel-track img{
  height:180px;
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.6);
}

/* Smooth infinite loop */
@keyframes scroll{
  from{ transform:translateX(0); }
  to{ transform:translateX(-50%); }
}

/* SECTIONS */
.section{
  padding:15px;
}
.section h3{
  margin-bottom:10px;
}

/* SLIDER */
.slider{
  display:flex;
  gap:14px;
  overflow-x:auto;
}
.slider::-webkit-scrollbar{display:none}

/* CARD */
.card{
  min-width:160px;
  cursor:pointer;
}
.card img{
  width:100%;
  border-radius:10px;
}
.card span{
  display:block;
  text-align:center;
  margin-top:6px;
  font-size:14px;
  font-weight:600;
}

/* BADGES */
.badge{
  position:absolute;
  top:8px;
  left:8px;
  background:#22c55e;
  font-size:11px;
  padding:3px 8px;
  border-radius:6px;
}
.badge.premium{background:#e50914}

/* LOCKED */
.locked{
  filter:grayscale(1) brightness(.45);
}
.lock-icon{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:30px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <img src="https://i.ibb.co/hxgrLF35/BUSANSO-New.png">
  <h1>Busanso Nation</h1>
  <small>Here we take away your stress with Movies & Series</small>
</div>

<!-- ACTION BUTTONS -->
<div class="top-actions">
  <a href="packages.html" class="btn subscribe">‚≠ê Subscribe</a>
  <a href="login.html" class="btn login">üîê Login</a>
  <a href="live.html" class="btn live">üì∫ Live TV</a>
  <a href="about.html" class="btn about">‚Ñπ About</a>
</div>


<!-- ===== AUTO MOVING POSTER CAROUSEL ===== -->
<div class="carousel-wrap">
  <div class="carousel-track" id="carouselTrack"></div>
</div>

<!-- LATEST MOVIES -->
<div class="section">
  <h3>Latest Movies</h3>
  <div class="slider" id="moviesBox"></div>
</div>

<!-- LATEST SERIES -->
<div class="section">
  <h3>Latest Series</h3>
  <div class="slider" id="seriesBox"></div>
</div>

<script>
/* ===== PIN CHECK ===== */
const pin = localStorage.getItem("activePIN");
const exp = localStorage.getItem("pinExpiry");
const pinValid = pin && exp && Date.now() < Number(exp);

/* SORT LATEST */
const latestMovies = [...MOVIES].sort((a,b)=>b.added - a.added);
const latestSeries = [...SERIES].sort((a,b)=>b.added - a.added);

/* ===== MOVING CAROUSEL (MIXED CONTENT) ===== */
const carousel = document.getElementById("carouselTrack");
const mixed = [...latestMovies.slice(0,6), ...latestSeries.slice(0,6)];

/* duplicate for seamless loop */
[...mixed, ...mixed].forEach(item=>{
  const img=document.createElement("img");
  img.src=item.poster;
  carousel.appendChild(img);
});

/* ===== MOVIE CARDS ===== */
const movieBox=document.getElementById("moviesBox");
latestMovies.forEach(m=>{
  const d=document.createElement("div");
  d.className="card";
  d.innerHTML=`
    <div style="position:relative">
      <img src="${m.poster}" class="${m.type==='premium'&&!pinValid?'locked':''}">
      <span class="badge ${m.type==='premium'?'premium':''}">
        ${m.type==='premium'?'PREMIUM':'FREE'}
      </span>
      ${m.type==='premium'&&!pinValid?'<div class="lock-icon">üîí</div>':''}
    </div>
    <span>${m.title}</span>
  `;
  d.onclick=()=>{
    if(m.type==="free" || pinValid){
      location.href=`movie.html?id=${m.id}`;
    }else{
      location.href="packages.html";
    }
  };
  movieBox.appendChild(d);
});

/* ===== SERIES CARDS ===== */
const seriesBox=document.getElementById("seriesBox");
latestSeries.forEach(s=>{
  const d=document.createElement("div");
  d.className="card";
  d.innerHTML=`
    <div style="position:relative">
      <img src="${s.poster}" class="${s.type==='premium'&&!pinValid?'locked':''}">
      <span class="badge ${s.type==='premium'?'premium':''}">
        ${s.type==='premium'?'PREMIUM':'FREE'}
      </span>
      ${s.type==='premium'&&!pinValid?'<div class="lock-icon">üîí</div>':''}
    </div>
    <span>${s.title}</span>
  `;
  d.onclick=()=>{
    if(s.type==="free" || pinValid){
      location.href=`serie.html?id=${s.id}`;
    }else{
      location.href="packages.html";
    }
  };
  seriesBox.appendChild(d);
});
</script>

</body>
</html>
